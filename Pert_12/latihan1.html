<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membaca Data JSon</title>
</head>
<body>

    <center>
        <h3>Form Data</h3>
        <table>
            <tr>
                <td>Nama</td>
                <td> : <input type="text" id="nama"></td>
            </tr>
            <tr>         
                <td>Email</td>
                <td> : <input type="text" id="email"></td>
            </tr>
            <tr>         
                <td>username</td>
                <td> : <input type="text" id="username"></td>
            </tr>
            <tr>         
                <td>password</td>
                <td> : <input type="text" id="passkey"></td>
            </tr>
        </table>
    </center>

    <br><br>
    <hr>
    <br><br>
    
    <div id="TampilData"></div>
        
    
<!-- javascript -->
<script>
    const jsHTTP = new XMLHttpRequest();
    jsHTTP.open("GET", "https://webpro.ptov.my.id/api/curduser.php?aksi=get");
    jsHTTP.send();

    jsHTTP.onload = function() {
        const data = JSON.parse(this.responseText);
        console.log(data);
        
        let tx = "<center><h3>List Data</h3></center>";
        tx += "<center><table border='1' cellspacing='0' cellpadding='5'><tr><th>#</th><th>Nama</th><th>email</th><th>username</th><th>aksi</th></tr></center>";
        
        let no = 1;
        for(let i=0; i<data.affected; i++) {
            tx += "<tr>"
                tx += "<td>"+ no +"</td>";
                tx += "<td>"+ data.isi[i][0] +"</td>";
                tx += "<td>"+ data.isi[i][1] +"</td>";
                tx += "<td>"+ data.isi[i][2] +"</td>";
               tx += "<td><a href='latihan1-edit.html?id="+data.isi[i][3]+"' >Edit</a>";
            tx += "</tr>";
            no++;
        }
        tx += "</table>";
        
        document.getElementById("TampilData").innerHTML = tx;
        console.log(data);
    }
</script>

</body>
</html>